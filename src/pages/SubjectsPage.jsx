
import React from 'react';
import { useParams, Link } from 'react-router-dom';
import { motion } from 'framer-motion';
import { BookOpen, FileText, ChevronLeft, ExternalLink } from 'lucide-react';
import Header from '@/components/Header';
import Footer from '@/components/Footer';
import Breadcrumb from '@/components/Breadcrumb';
import { Button } from '@/components/ui/button';

const SubjectsPage = ({ type }) => {
  const { stage, grade } = useParams();

  const stageData = {
    primary: { name: 'ุงููุฑุญูุฉ ุงูุงุจุชุฏุงุฆูุฉ', color: 'from-green-400 to-green-600' },
    middle: { name: 'ุงููุฑุญูุฉ ุงููุชูุณุทุฉ', color: 'from-blue-400 to-blue-600' },
    high: { name: 'ุงููุฑุญูุฉ ุงูุฅุนุฏุงุฏูุฉ', color: 'from-purple-400 to-purple-600' }
  };

  const gradeNames = {
    grade1: stage === 'primary' ? 'ุงูุตู ุงูุฃูู ุงูุงุจุชุฏุงุฆู' : 'ุงูุตู ุงูุฃูู ุงููุชูุณุท',
    grade2: stage === 'primary' ? 'ุงูุตู ุงูุซุงูู ุงูุงุจุชุฏุงุฆู' : 'ุงูุตู ุงูุซุงูู ุงููุชูุณุท',
    grade3: stage === 'primary' ? 'ุงูุตู ุงูุซุงูุซ ุงูุงุจุชุฏุงุฆู' : 'ุงูุตู ุงูุซุงูุซ ุงููุชูุณุท',
    grade4: 'ุงูุตู ุงูุฑุงุจุน ุงูุฅุนุฏุงุฏู',
    grade5: 'ุงูุตู ุงูุฎุงูุณ ุงูุฅุนุฏุงุฏู',
    grade6: 'ุงูุตู ุงูุณุงุฏุณ ุงูุฅุนุฏุงุฏู'
  };

  const subjects = {
    primary: {
      grade1: ['ุงููุบุฉ ุงูุนุฑุจูุฉ', 'ุงูุฑูุงุถูุงุช', 'ุงูุนููู', 'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ', 'ุงูุชุฑุจูุฉ ุงููููุฉ', 'ุงูุชุฑุจูุฉ ุงูุฑูุงุถูุฉ', 'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ', 'ุงูุชุฑุจูุฉ ุงูุงุฌุชูุงุนูุฉ'],
      grade2: ['ุงููุบุฉ ุงูุนุฑุจูุฉ', 'ุงูุฑูุงุถูุงุช', 'ุงูุนููู', 'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ', 'ุงูุชุฑุจูุฉ ุงููููุฉ', 'ุงูุชุฑุจูุฉ ุงูุฑูุงุถูุฉ', 'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ', 'ุงูุชุฑุจูุฉ ุงูุงุฌุชูุงุนูุฉ', 'ุงูุญุงุณูุจ'],
      grade3: ['ุงููุบุฉ ุงูุนุฑุจูุฉ', 'ุงูุฑูุงุถูุงุช', 'ุงูุนููู', 'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ', 'ุงูุชุฑุจูุฉ ุงููููุฉ', 'ุงูุชุฑุจูุฉ ุงูุฑูุงุถูุฉ', 'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ', 'ุงูุชุฑุจูุฉ ุงูุงุฌุชูุงุนูุฉ', 'ุงูุญุงุณูุจ', 'ุงูุชุฑุจูุฉ ุงูููุณูููุฉ'],
      grade4: ['ุงููุบุฉ ุงูุนุฑุจูุฉ', 'ุงูุฑูุงุถูุงุช', 'ุงูุนููู', 'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ', 'ุงูุชุฑุจูุฉ ุงููููุฉ', 'ุงูุชุฑุจูุฉ ุงูุฑูุงุถูุฉ', 'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ', 'ุงูุชุฑุจูุฉ ุงูุงุฌุชูุงุนูุฉ', 'ุงูุญุงุณูุจ', 'ุงูุชุฑุจูุฉ ุงูููุณูููุฉ', 'ุงูุชุงุฑูุฎ'],
      grade5: ['ุงููุบุฉ ุงูุนุฑุจูุฉ', 'ุงูุฑูุงุถูุงุช', 'ุงูุนููู', 'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ', 'ุงูุชุฑุจูุฉ ุงููููุฉ', 'ุงูุชุฑุจูุฉ ุงูุฑูุงุถูุฉ', 'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ', 'ุงูุชุฑุจูุฉ ุงูุงุฌุชูุงุนูุฉ', 'ุงูุญุงุณูุจ', 'ุงูุชุฑุจูุฉ ุงูููุณูููุฉ', 'ุงูุชุงุฑูุฎ', 'ุงูุฌุบุฑุงููุฉ'],
      grade6: ['ุงููุบุฉ ุงูุนุฑุจูุฉ', 'ุงูุฑูุงุถูุงุช', 'ุงูุนููู', 'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ', 'ุงูุชุฑุจูุฉ ุงููููุฉ', 'ุงูุชุฑุจูุฉ ุงูุฑูุงุถูุฉ', 'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ', 'ุงูุชุฑุจูุฉ ุงูุงุฌุชูุงุนูุฉ', 'ุงูุญุงุณูุจ', 'ุงูุชุฑุจูุฉ ุงูููุณูููุฉ', 'ุงูุชุงุฑูุฎ', 'ุงูุฌุบุฑุงููุฉ', 'ุงูุชุฑุจูุฉ ุงูููููุฉ']
    },
    middle: {
      grade1: ['ุงููุบุฉ ุงูุนุฑุจูุฉ', 'ุงูุฑูุงุถูุงุช', 'ุงูุนููู', 'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ', 'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ', 'ุงูุชุงุฑูุฎ', 'ุงูุฌุบุฑุงููุฉ', 'ุงูุชุฑุจูุฉ ุงููููุฉ', 'ุงูุชุฑุจูุฉ ุงูุฑูุงุถูุฉ', 'ุงูุญุงุณูุจ', 'ุงูุชุฑุจูุฉ ุงูููููุฉ', 'ุงูุชุฑุจูุฉ ุงูููุณูููุฉ', 'ุงูููุฒูุงุก', 'ุงูููููุงุก'],
      grade2: ['ุงููุบุฉ ุงูุนุฑุจูุฉ', 'ุงูุฑูุงุถูุงุช', 'ุงูุนููู', 'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ', 'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ', 'ุงูุชุงุฑูุฎ', 'ุงูุฌุบุฑุงููุฉ', 'ุงูุชุฑุจูุฉ ุงููููุฉ', 'ุงูุชุฑุจูุฉ ุงูุฑูุงุถูุฉ', 'ุงูุญุงุณูุจ', 'ุงูุชุฑุจูุฉ ุงูููููุฉ', 'ุงูุชุฑุจูุฉ ุงูููุณูููุฉ', 'ุงูููุฒูุงุก', 'ุงูููููุงุก', 'ุงูุฃุญูุงุก'],
      grade3: ['ุงููุบุฉ ุงูุนุฑุจูุฉ', 'ุงูุฑูุงุถูุงุช', 'ุงูุนููู', 'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ', 'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ', 'ุงูุชุงุฑูุฎ', 'ุงูุฌุบุฑุงููุฉ', 'ุงูุชุฑุจูุฉ ุงููููุฉ', 'ุงูุชุฑุจูุฉ ุงูุฑูุงุถูุฉ', 'ุงูุญุงุณูุจ', 'ุงูุชุฑุจูุฉ ุงูููููุฉ', 'ุงูุชุฑุจูุฉ ุงูููุณูููุฉ', 'ุงูููุฒูุงุก', 'ุงูููููุงุก', 'ุงูุฃุญูุงุก', 'ุงูุชุฑุจูุฉ ุงููุทููุฉ']
    },
    high: {
      grade4: ['ุงููุบุฉ ุงูุนุฑุจูุฉ', 'ุงูุฑูุงุถูุงุช', 'ุงูููุฒูุงุก', 'ุงูููููุงุก', 'ุงูุฃุญูุงุก', 'ุงูุชุงุฑูุฎ', 'ุงูุฌุบุฑุงููุฉ', 'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ', 'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ', 'ุงูุญุงุณูุจ', 'ุงูุชุฑุจูุฉ ุงูุฑูุงุถูุฉ', 'ุงูุชุฑุจูุฉ ุงููููุฉ'],
      grade5: ['ุงููุบุฉ ุงูุนุฑุจูุฉ', 'ุงูุฑูุงุถูุงุช', 'ุงูููุฒูุงุก', 'ุงูููููุงุก', 'ุงูุฃุญูุงุก', 'ุงูุชุงุฑูุฎ', 'ุงูุฌุบุฑุงููุฉ', 'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ', 'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ', 'ุงูุญุงุณูุจ'],
      grade6: ['ุงููุบุฉ ุงูุนุฑุจูุฉ', 'ุงูุฑูุงุถูุงุช', 'ุงูููุฒูุงุก', 'ุงูููููุงุก', 'ุงูุฃุญูุงุก', 'ุงูุชุงุฑูุฎ', 'ุงูุฌุบุฑุงููุฉ', 'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ']
    }
  };

  const currentStage = stageData[stage];
  const currentGrade = gradeNames[grade];
  const currentSubjects = subjects[stage]?.[grade] || [];
  const isBooks = type === 'books';
  const title = isBooks ? 'ุงููุชุจ ุงููุฏุฑุณูุฉ' : 'ุงูููุงุฒู ุงูุฏุฑุงุณูุฉ';
  const baseUrl = isBooks ? '/books' : '/notes';

  const breadcrumbItems = [
    { label: title, href: baseUrl },
    { label: currentStage?.name, href: `${baseUrl}/${stage}` },
    { label: currentGrade, href: `${baseUrl}/${stage}/${grade}` },
    { label: 'ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ' }
  ];

  const handleSubjectClick = (subject) => {
    window.open('https://t.me/xd6_bot', '_blank');
  };

  const subjectIcons = {
    'ุงููุบุฉ ุงูุนุฑุจูุฉ': '๐',
    'ุงูุฑูุงุถูุงุช': '๐ข',
    'ุงูุนููู': '๐ฌ',
    'ุงูููุฒูุงุก': 'โ๏ธ',
    'ุงูููููุงุก': '๐งช',
    'ุงูุฃุญูุงุก': '๐งฌ',
    'ุงูุชุงุฑูุฎ': '๐',
    'ุงูุฌุบุฑุงููุฉ': '๐',
    'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ': '๐ฌ๐ง',
    'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ': 'โช๏ธ',
    'ุงูุญุงุณูุจ': '๐ป',
    'ุงูุชุฑุจูุฉ ุงููููุฉ': '๐จ',
    'ุงูุชุฑุจูุฉ ุงูุฑูุงุถูุฉ': 'โฝ',
    'ุงูุชุฑุจูุฉ ุงูููุณูููุฉ': '๐ต',
    'ุงูุชุฑุจูุฉ ุงูููููุฉ': '๐ง',
    'ุงูุชุฑุจูุฉ ุงูุงุฌุชูุงุนูุฉ': '๐ฅ',
    'ุงูุชุฑุจูุฉ ุงููุทููุฉ': '๐ฎ๐ถ'
  };

  return (
    <div className="min-h-screen pattern-bg">
      <Header />
      
      <div className="container mx-auto px-4 py-8">
        <Breadcrumb items={breadcrumbItems} />
        
        <motion.div
          initial={{ opacity: 0, y: 30 }}
          animate={{ opacity: 1, y: 0 }}
          className="text-center mb-12"
        >
          <div className="flex items-center justify-center space-x-3 space-x-reverse mb-6">
            {React.createElement(isBooks ? BookOpen : FileText, { 
              className: `h-12 w-12 ${isBooks ? 'text-blue-600' : 'text-green-600'}` 
            })}
            <div className="text-right">
              <h1 className="text-4xl font-bold text-gray-800">ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ</h1>
              <p className="text-xl text-gray-600">{currentGrade}</p>
            </div>
          </div>
          <p className="text-lg text-gray-600 max-w-2xl mx-auto">
            ุงุฎุชุฑ ุงููุงุฏุฉ ุงูุฏุฑุงุณูุฉ ูููุตูู ุฅูู {title} ุนุจุฑ ุจูุช ุงูุชูุบุฑุงู
          </p>
        </motion.div>

        <div className="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
          {currentSubjects.map((subject, index) => (
            <motion.div
              key={subject}
              initial={{ opacity: 0, y: 50 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6, delay: index * 0.05 }}
              whileHover={{ y: -5, scale: 1.02 }}
              className="cursor-pointer"
              onClick={() => handleSubjectClick(subject)}
            >
              <div className="glass-effect rounded-2xl p-6 text-center card-hover h-full group">
                <div className="text-4xl mb-4 group-hover:scale-110 transition-transform">
                  {subjectIcons[subject] || '๐'}
                </div>
                <h3 className="text-lg font-bold text-gray-800 mb-3">{subject}</h3>
                <div className="flex items-center justify-center space-x-2 space-x-reverse text-blue-600 group-hover:text-blue-700">
                  <ExternalLink className="h-4 w-4" />
                  <span className="text-sm">ูุชุญ ูู ุงูุชูุบุฑุงู</span>
                </div>
                <div className={`mt-4 w-full h-1 bg-gradient-to-r ${currentStage.color} rounded-full opacity-60 group-hover:opacity-100 transition-opacity`}></div>
              </div>
            </motion.div>
          ))}
        </div>

        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{ delay: 0.8 }}
          className="mt-12 text-center"
        >
          <div className="glass-effect rounded-2xl p-8 max-w-2xl mx-auto mb-8">
            <h3 className="text-2xl font-bold text-gray-800 mb-4">ููููุฉ ุงูุชุญููู</h3>
            <div className="text-gray-600 space-y-3 text-right">
              <p>1. ุงููุฑ ุนูู ุงููุงุฏุฉ ุงูุฏุฑุงุณูุฉ ุงููุทููุจุฉ</p>
              <p>2. ุณูุชู ุชูุฌููู ุฅูู ุจูุช ุงูุชูุบุฑุงู @xd6_bot</p>
              <p>3. ุงุจุฏุฃ ูุญุงุฏุซุฉ ูุน ุงูุจูุช ูุงุทูุจ ุงููุงุฏุฉ ุงููุทููุจุฉ</p>
              <p>4. ุณุชุญุตู ุนูู ุฑุงุจุท ุงูุชุญููู ุงููุจุงุดุฑ</p>
            </div>
          </div>
          
          <Link to={`${baseUrl}/${stage}/${grade}`}>
            <Button variant="outline" size="lg" className="text-lg px-8 py-4">
              <ChevronLeft className="h-5 w-5 ml-2 rotate-180" />
              ุงูุนูุฏุฉ ุฅูู {currentGrade}
            </Button>
          </Link>
        </motion.div>
      </div>

      <Footer />
    </div>
  );
};

export default SubjectsPage;
